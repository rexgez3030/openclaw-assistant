name: Gitclaw Agent
on:
  issues:
      types: [opened]
        issue_comment:
            types: [created]
            permissions:
              contents: write
                issues: write
                  actions: write
                  jobs:
                    run-agent:
                        runs-on: ubuntu-latest
                            steps:
                                  - uses: actions/checkout@v4
                                        - uses: oven-sh/setup-bun@v2
                                                with:
                                                          bun-version: latest
                                                                - name: Preinstall
                                                                        run: bun lifecycle/preinstall.ts
                                                                                env:
                                                                                          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                                                                                                - name: Install dependencies
                                                                                                        run: bun install --frozen-lockfile
                                                                                                              - name: Run Agent
                                                                                                                      run: bun lifecycle/main.ts --provider google --model gemini-pro
                                                                                                                              env:
                                                                                                                                        GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
                                                                                                                                                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                                                                                                                                                  
